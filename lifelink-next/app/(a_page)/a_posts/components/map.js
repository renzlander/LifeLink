import { MapContainer, TileLayer, CircleMarker, Popup, GeoJSON } from 'react-leaflet';
import 'leaflet/dist/leaflet.css';


export function PRCMap() {

  // Define the getColor function
function getColor(density) {
  // Define your logic to determine fill colors based on density values
  if (density >= 0 && density < 10) {
      return 'green';
  } else if (density >= 10 && density < 20) {
      return 'yellow';
  } else {
      return 'red';
  }
}

// Define the style function using getColor
function getFeatureStyle(feature) {
  const density = feature.properties.density;
  return {
      fillColor: getColor(density),
      weight: 2,
      opacity: 1,
      color: 'red',
      dashArray: '3',
      fillOpacity:100
  };
}

  const centerCoordinates = [14.697660063431062, 120.97523931561797]; 
  const malintaGeoJson = {
    
      "type": "FeatureCollection",
      "features": [
        {
          "type": "Feature",
          "properties": {
            "name": "Malinta",
            "density": 94.65
        },
          "geometry": {
            "coordinates": [
              [
                120.95860480011225,
                14.693462825167856
              ],
              [
                120.95797707674978,
                14.693024295196523
              ],
              [
                120.95817236846193,
                14.692494684749107
              ],
              [
                120.95817236846193,
                14.691904353120208
              ],
              [
                120.95860131275941,
                14.691239806464338
              ],
              [
                120.95931621973108,
                14.690548271158647
              ],
              [
                120.95965100302544,
                14.689742042426772
              ],
              [
                120.95971726271301,
                14.689623974742048
              ],
              [
                120.95976608564268,
                14.689573374285786
              ],
              [
                120.95984280738685,
                14.689313625092908
              ],
              [
                120.96033103568675,
                14.688163304599442
              ],
              [
                120.9604391435982,
                14.688082343322577
              ],
              [
                120.96046006771121,
                14.68811607719151
              ],
              [
                120.96105989207547,
                14.686510339514143
              ],
              [
                120.96161438104457,
                14.685973966443257
              ],
              [
                120.96238508449255,
                14.685619758318694
              ],
              [
                120.96270592087842,
                14.68528916240507
              ],
              [
                120.96307558019186,
                14.68479326759632
              ],
              [
                120.96335108100106,
                14.68448628453234
              ],
              [
                120.9638323355789,
                14.68412195242476
              ],
              [
                120.9644574800285,
                14.68275690937692
              ],
              [
                120.9648054592177,
                14.68157202350497
              ],
              [
                120.96473586365789,
                14.679202233425144
              ],
              [
                120.96526478990955,
                14.678394344574542
              ],
              [
                120.96545965747771,
                14.676616978598929
              ],
              [
                120.964554915203,
                14.675418594904556
              ],
              [
                120.9649585694483,
                14.675728290196844
              ],
              [
                120.96590506905852,
                14.67696706697896
              ],
              [
                120.96619737040652,
                14.67761338251536
              ],
              [
                120.96630872330172,
                14.677936539567455
              ],
              [
                120.96646183353448,
                14.678003863893466
              ],
              [
                120.96674021577132,
                14.678232766446328
              ],
              [
                120.9677006344927,
                14.67904065589373
              ],
              [
                120.96871697706774,
                14.679444718534398
              ],
              [
                120.9693711753257,
                14.679431253759347
              ],
              [
                120.97023416026497,
                14.678933056508896
              ],
              [
                120.97129201276829,
                14.678286744871727
              ],
              [
                120.97219675504311,
                14.678259815179288
              ],
              [
                120.9713059309218,
                14.681397100621297
              ],
              [
                120.97005321085032,
                14.683470647534804
              ],
              [
                120.96765315658291,
                14.687739530806965
              ],
              [
                120.96614420033478,
                14.690553976963443
              ],
              [
                120.96663607112163,
                14.691376529904176
              ],
              [
                120.96776236855283,
                14.691136260744472
              ],
              [
                120.96845931903215,
                14.690981665321516
              ],
              [
                120.96860666021774,
                14.69175849925459
              ],
              [
                120.96883057997326,
                14.692500614270031
              ],
              [
                120.9688727943539,
                14.692784676768056
              ],
              [
                120.96989703085671,
                14.692425765908581
              ],
              [
                120.97011891071514,
                14.692936046421366
              ],
              [
                120.97021852973711,
                14.693237973858345
              ],
              [
                120.9701166461287,
                14.693866514301021
              ],
              [
                120.96991740161366,
                14.694751286707785
              ],
              [
                120.97016871451336,
                14.694884878153673
              ],
              [
                120.97016418635326,
                14.695307552189021
              ],
              [
                120.97016460188684,
                14.694976152556578
              ],
              [
                120.97042041782612,
                14.695089978699357
              ],
              [
                120.97041530150761,
                14.695960994174314
              ],
              [
                120.97004181237264,
                14.697955612946785
              ],
              [
                120.96997530022736,
                14.698539581953952
              ],
              [
                120.97011353336097,
                14.698826746374962
              ],
              [
                120.97013399863658,
                14.69905934345887
              ],
              [
                120.97047679199511,
                14.699084087815038
              ],
              [
                120.97060469996558,
                14.699212758421766
              ],
              [
                120.97091167909309,
                14.699999627020532
              ],
              [
                120.96805514011822,
                14.701333581515172
              ],
              [
                120.96717001696533,
                14.700734773478572
              ],
              [
                120.9669858357691,
                14.700472479887395
              ],
              [
                120.96693978890102,
                14.700056776975075
              ],
              [
                120.96688862571284,
                14.69979448782577
              ],
              [
                120.96638723212942,
                14.699568884351677
              ],
              [
                120.96619281201527,
                14.69940062304822
              ],
              [
                120.96552257425367,
                14.699014611333425
              ],
              [
                120.96526164199423,
                14.699598577509235
              ],
              [
                120.96483699403973,
                14.700509164177817
              ],
              [
                120.96416164628153,
                14.700172642816256
              ],
              [
                120.9639160629792,
                14.69993014921451
              ],
              [
                120.96290303185748,
                14.699751990477765
              ],
              [
                120.96319452273463,
                14.698683984560972
              ],
              [
                120.96373100338843,
                14.697001445151102
              ],
              [
                120.96326917927394,
                14.697046116517015
              ],
              [
                120.96247568147868,
                14.696920224461905
              ],
              [
                120.96165699457293,
                14.696416655965095
              ],
              [
                120.9616150105623,
                14.696209542593934
              ],
              [
                120.96164312750165,
                14.696416876617263
              ],
              [
                120.96139962024148,
                14.696847346915945
              ],
              [
                120.96025345675895,
                14.696420937661529
              ],
              [
                120.96038360718995,
                14.695876757023882
              ],
              [
                120.96003094150393,
                14.695681826316388
              ],
              [
                120.96022406808345,
                14.695365063648893
              ],
              [
                120.95874866870093,
                14.695005931263552
              ],
              [
                120.95859977588441,
                14.693454689623223
              ]
            ],
            "type": "LineString"
          }
        }
      ]
    
  };
  const karuhatanGeoJson = {
    "type": "FeatureCollection",
    "features": [
      {
        "type": "Feature",
        "properties": {},
        "geometry": {
          "coordinates": [
            [
              120.96646624610912,
              14.691437782472235
            ],
            [
              120.9661251072016,
              14.690402316789033
            ],
            [
              120.9677602093019,
              14.687574670605002
            ],
            [
              120.97139507200643,
              14.681117038352113
            ],
            [
              120.97245377335474,
              14.681407208951768
            ],
            [
              120.97254199828848,
              14.681577897671914
            ],
            [
              120.97474762162256,
              14.681572208049474
            ],
            [
              120.97545930275243,
              14.681959101999766
            ],
            [
              120.97600445245138,
              14.681772484635616
            ],
            [
              120.97777432967848,
              14.682029301797613
            ],
            [
              120.97817515486798,
              14.682371718763392
            ],
            [
              120.97840419783245,
              14.68192607304799
            ],
            [
              120.97875036504087,
              14.682172814855534
            ],
            [
              120.97865666068049,
              14.682379273184623
            ],
            [
              120.97864885239886,
              14.682570623601833
            ],
            [
              120.97884145670872,
              14.682905486429462
            ],
            [
              120.97991679674305,
              14.683415421950599
            ],
            [
              120.98013803142595,
              14.683415421950599
            ],
            [
              120.98016666179569,
              14.68380819181776
            ],
            [
              120.98039049923858,
              14.683853511372917
            ],
            [
              120.98099433278594,
              14.683767905882263
            ],
            [
              120.98096049399368,
              14.684709542595442
            ],
            [
              120.98157317322,
              14.684699470675213
            ],
            [
              120.98318688501803,
              14.68460883190697
            ],
            [
              120.98383303814552,
              14.684488164271542
            ],
            [
              120.98414871416975,
              14.684233463597849
            ],
            [
              120.98560428200011,
              14.684555362970258
            ],
            [
              120.98536993797205,
              14.685137955535737
            ],
            [
              120.9860495368631,
              14.685677475209872
            ],
            [
              120.9855310551419,
              14.686184214251867
            ],
            [
              120.98486083001171,
              14.686691995147712
            ],
            [
              120.98296879745789,
              14.688058611849826
            ],
            [
              120.98196570300763,
              14.688690612101809
            ],
            [
              120.9811114332282,
              14.688925754380037
            ],
            [
              120.98111837851712,
              14.689373640293311
            ],
            [
              120.98082899143327,
              14.689597582906089
            ],
            [
              120.98101188497799,
              14.690074580877521
            ],
            [
              120.98111837942452,
              14.690356747627163
            ],
            [
              120.98133599851195,
              14.690643392840798
            ],
            [
              120.98086140393758,
              14.691021853516574
            ],
            [
              120.9813776704965,
              14.691608578249713
            ],
            [
              120.98150963000296,
              14.691971362718292
            ],
            [
              120.98137072346611,
              14.693111213814262
            ],
            [
              120.98109279466769,
              14.6936649061211
            ],
            [
              120.97996765860563,
              14.694833861242586
            ],
            [
              120.9793773085612,
              14.695530306465614
            ],
            [
              120.97903634237406,
              14.69592075227878
            ],
            [
              120.97783567938461,
              14.695038771710756
            ],
            [
              120.9776999522644,
              14.695129663002362
            ],
            [
              120.97750158185721,
              14.695584118894445
            ],
            [
              120.97741109710898,
              14.695765900986146
            ],
            [
              120.97695867624577,
              14.695829857383927
            ],
            [
              120.97540651481603,
              14.695069064881196
            ],
            [
              120.97507937993782,
              14.694675199693762
            ],
            [
              120.97495061318239,
              14.694143315676499
            ],
            [
              120.97471744212095,
              14.693624894974349
            ],
            [
              120.97451211134887,
              14.693682123199238
            ],
            [
              120.9732662059854,
              14.693278158937517
            ],
            [
              120.97311221961473,
              14.694140884435058
            ],
            [
              120.97306001687588,
              14.694453955567866
            ],
            [
              120.97267700437897,
              14.695505009648244
            ],
            [
              120.9724055501386,
              14.695966197419267
            ],
            [
              120.97047606971717,
              14.695014883102203
            ],
            [
              120.96992034136048,
              14.694743128519164
            ],
            [
              120.97001745977974,
              14.694254090901495
            ],
            [
              120.97019506285591,
              14.693472662197863
            ],
            [
              120.9702258969711,
              14.693170825545153
            ],
            [
              120.9699274227043,
              14.692384616233355
            ],
            [
              120.96949451122845,
              14.692483638781908
            ]
          ],
          "type": "LineString"
        }
      },
      {
        "type": "Feature",
        "properties": {},
        "geometry": {
          "coordinates": [
            [
              120.9694983062119,
              14.692485139024853
            ],
            [
              120.96938827714905,
              14.692509700075831
            ],
            [
              120.96868263864144,
              14.690920628788987
            ],
            [
              120.96867369791511,
              14.690874237400934
            ],
            [
              120.96750851835003,
              14.691133494708325
            ],
            [
              120.96645870391433,
              14.691436418933378
            ]
          ],
          "type": "LineString"
        }
      }
    ]
  };

  return (
    <MapContainer center={centerCoordinates} zoom={13} scrollWheelZoom={true} className='prcmap'>
      <TileLayer
        attribution='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
      />
      <GeoJSON
        data={malintaGeoJson}
        style={getFeatureStyle}
      />
      <GeoJSON data={karuhatanGeoJson} style={getFeatureStyle} />

    </MapContainer>
  );
}
